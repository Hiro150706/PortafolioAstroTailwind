---
import Base from '../layouts/Base.astro';
import '../styles/habilidades.css'; // conectar CSS externo

const habilidades = [
  { nombre: 'HTML', porcentaje: 90, color: 'from-blue-500 to-blue-600', icon: 'M12 18.178l-4.62-1.256-.328-3.544h2.27l.158 1.844 2.52.667 2.52-.667.26-2.063H6.96l-.635-6.678h11.35l-.227 2.21H8.822l.204 2.256h8.217l-.624 6.778L12 18.178z' },
  { nombre: 'CSS', porcentaje: 80, color: 'from-cyan-500 to-cyan-600', icon: 'M4.192 3.143h15.615l-1.42 16.034-6.404 1.812-6.369-1.813L4.192 3.143zM16.9 6.424l-9.8-.002.158 1.949 7.529.002-.189 2.02H9.66l.179 1.913h4.597l-.272 2.62-2.164.598-2.197-.603-.141-1.569h-1.94l.216 2.867L12 17.484l3.995-1.137.905-9.923z' },
  { nombre: 'JavaScript', porcentaje: 75, color: 'from-yellow-500 to-yellow-600', icon: 'M3 3h18v18H3V3zm16.525 13.707c-.131-.821-.666-1.511-2.252-2.155-.552-.259-1.165-.438-1.349-.854-.068-.248-.078-.382-.034-.529.113-.484.687-.629 1.137-.495.293.09.563.315.732.676.775-.507.775-.507 1.316-.844-.203-.314-.304-.451-.439-.586-.473-.528-1.103-.798-2.126-.775l-.528.067c-.507.124-.991.395-1.283.754-.855.968-.611 2.655.427 3.354 1.023.765 2.521.933 2.712 1.653.18.878-.652 1.159-1.475 1.058-.607-.136-.945-.439-1.316-1.002l-1.372.788c.157.359.337.517.607.832 1.305 1.316 4.568 1.249 5.153-.754.021-.067.18-.528.056-1.237l.034.049zm-6.737-5.434h-1.686c0 1.453-.007 2.898-.007 4.354 0 .924.047 1.772-.104 2.033-.247.517-.886.451-1.175.359-.297-.146-.448-.349-.623-.641-.047-.078-.082-.146-.095-.146l-1.368.844c.229.473.563.879.994 1.137.641.383 1.502.507 2.404.305.588-.17 1.095-.519 1.358-1.059.384-.697.302-1.553.299-2.509.008-1.541 0-3.083 0-4.635l.003-.042z' },
  { nombre: 'Bootstrap', porcentaje: 85, color: 'from-purple-500 to-purple-600', icon: 'M11.77 11.24H9.956V8.202h2.152c1.17 0 1.834.522 1.834 1.466 0 1.008-.773 1.572-2.174 1.572zm.324 1.206H9.957v3.348h2.231c1.459 0 2.232-.585 2.232-1.685s-.795-1.663-2.326-1.663zM24 11.39v1.218c-1.128.108-1.817.944-2.226 2.268-.407 1.319-.463 2.937-.42 4.186.045 1.3-.968 2.5-2.337 2.5H4.985c-1.37 0-2.383-1.2-2.337-2.5.043-1.249-.013-2.867-.42-4.186-.41-1.324-1.1-2.16-2.228-2.268V11.39c1.128-.108 1.819-.944 2.227-2.268.408-1.319.464-2.937.42-4.186-.045-1.3.968-2.5 2.338-2.5h14.032c1.37 0 2.382 1.2 2.337 2.5-.043 1.249.013 2.867.42 4.186.409 1.324 1.098 2.16 2.226 2.268zm-7.927 2.817c0-1.354-.953-2.333-2.368-2.488v-.057c1.04-.169 1.856-1.135 1.856-2.213 0-1.537-1.213-2.538-3.062-2.538h-4.16v10.172h4.181c2.218 0 3.553-1.086 3.553-2.876z' },
  { nombre: 'Diseño Web', porcentaje: 70, color: 'from-pink-500 to-pink-600', icon: 'M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5' },
  { nombre: 'Trabajo en Equipo', porcentaje: 95, color: 'from-green-500 to-green-600', icon: 'M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z' }
];
---

<Base title="Habilidades | Mi Portafolio" description="Mis habilidades técnicas y profesionales">
  <section class="min-h-screen py-20 bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50">
    <div class="container mx-auto px-4">
      <!-- Título -->
      <div class="text-center mb-16 animate-fade-in">
        <h1 class="text-5xl md:text-6xl font-bold text-gray-800 mb-4">
          Mis Habilidades
        </h1>
        <p class="text-xl text-gray-600">
          Tecnologías y competencias que domino
        </p>
      </div>

      <!-- Grid de Habilidades -->
      <div class="max-w-5xl mx-auto">
        <div class="grid md:grid-cols-2 gap-8">
          {habilidades.map((habilidad, index) => (
            <div 
              class={`skill-card skill-card-${index} bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500`}
            >
              <!-- Header con ícono y nombre -->
              <div class="flex items-center justify-between mb-6">
                <div class="flex items-center space-x-4">
                  <div class={`w-14 h-14 bg-gradient-to-br ${habilidad.color} rounded-xl flex items-center justify-center shadow-lg`}>
                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                      <path d={habilidad.icon}></path>
                    </svg>
                  </div>
                  <h3 class="text-2xl font-bold text-gray-800">{habilidad.nombre}</h3>
                </div>
                <span class={`skill-percentage bg-gradient-to-r ${habilidad.color} bg-clip-text text-transparent text-3xl font-bold`}>
                  0%
                </span>
              </div>

              <!-- Barra de progreso -->
              <div class="relative">
                <div class="h-4 bg-gray-200 rounded-full overflow-hidden">
                  <div 
                    class={`skill-progress h-full bg-gradient-to-r ${habilidad.color} rounded-full transition-all duration-2000 ease-out relative`}
                    data-width={habilidad.porcentaje}
                    style="width: 0%"
                  >
                    <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent shimmer"></div>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>

        <!-- Sección adicional: Otras competencias -->
        <div class="mt-20 animate-fade-in-delayed">
          <h2 class="text-3xl font-bold text-center text-gray-800 mb-12">
            Otras Competencias
          </h2>
          <div class="grid md:grid-cols-3 gap-6">
            <!-- Competencia 1 -->
            <div class="competence-card competence-card-1 bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl hover:-translate-y-2 transition-all duration-300">
              <div class="w-12 h-12 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl flex items-center justify-center mb-4">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                </svg>
              </div>
              <h4 class="text-lg font-bold text-gray-800 mb-2">Resolución de Problemas</h4>
              <p class="text-gray-600 text-sm">Capacidad analítica para encontrar soluciones efectivas.</p>
            </div>

            <!-- Competencia 2 -->
            <div class="competence-card competence-card-2 bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl hover:-translate-y-2 transition-all duration-300">
              <div class="w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center mb-4">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
              </div>
              <h4 class="text-lg font-bold text-gray-800 mb-2">Gestión del Tiempo</h4>
              <p class="text-gray-600 text-sm">Organización eficiente para cumplir plazos y objetivos.</p>
            </div>

            <!-- Competencia 3 -->
            <div class="competence-card competence-card-3 bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl hover:-translate-y-2 transition-all duration-300">
              <div class="w-12 h-12 bg-gradient-to-br from-teal-500 to-teal-600 rounded-xl flex items-center justify-center mb-4">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path>
                </svg>
              </div>
              <h4 class="text-lg font-bold text-gray-800 mb-2">Comunicación Efectiva</h4>
              <p class="text-gray-600 text-sm">Habilidad para transmitir ideas de forma clara y precisa.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
  // Animación de barras de progreso
  document.addEventListener('DOMContentLoaded', () => {
    const skillCards = document.querySelectorAll('.skill-card');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const card = entry.target;
          const progressBar = card.querySelector('.skill-progress');
          const percentage = card.querySelector('.skill-percentage');
          if (progressBar && percentage) {
            const targetWidth = progressBar.getAttribute('data-width');
            if (targetWidth) {
              let current = 0;
              const target = parseInt(targetWidth);
              const duration = 2000;
              const steps = 60;
              const increment = target / steps;
              const stepTime = duration / steps;
              const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                  current = target;
                  clearInterval(timer);
                }
                percentage.textContent = `${Math.round(current)}%`;
              }, stepTime);
              setTimeout(() => {
                progressBar.style.width = `${targetWidth}%`;
              }, 100);
            }
          }
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.3 });
    skillCards.forEach(card => observer.observe(card));
  });
  </script>
</Base>
